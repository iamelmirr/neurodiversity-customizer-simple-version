(()=>{"use strict";var n=null;function o(o){switch(n&&function(){document.querySelectorAll("style[data-neuro-customizer]").forEach((function(n){return n.remove()})),document.body.classList.remove("neuro-dyslexia-mode","neuro-focus-mode","neuro-high-contrast-mode","neuro-calm-mode"),window.neuroCustomizerObservers&&(window.neuroCustomizerObservers.forEach((function(n){return n.disconnect()})),window.neuroCustomizerObservers=[]),document.querySelectorAll("[data-neuro-original-style]").forEach((function(n){var o=n.getAttribute("data-neuro-original-style");n.setAttribute("style",o||""),n.removeAttribute("data-neuro-original-style")}));var n=document.getElementById("neuro-reading-ruler");n&&n.remove(),console.log("Reset to default mode complete")}(),o){case"dyslexia":!function(){document.body.classList.add("neuro-dyslexia-mode");var n=document.createElement("style");if(n.setAttribute("data-neuro-customizer","dyslexia"),n.textContent="\n    /* Apply OpenDyslexic font to all text elements */\n    body.neuro-dyslexia-mode {\n      font-family: 'OpenDyslexic', 'Lexend', sans-serif !important;\n    }\n    \n    body.neuro-dyslexia-mode * {\n      font-family: 'OpenDyslexic', 'Lexend', sans-serif !important;\n      font-style: normal !important; /* No italics */\n    }\n    \n    /* Increase letter spacing */\n    body.neuro-dyslexia-mode p, \n    body.neuro-dyslexia-mode li, \n    body.neuro-dyslexia-mode h1,\n    body.neuro-dyslexia-mode h2,\n    body.neuro-dyslexia-mode h3,\n    body.neuro-dyslexia-mode h4,\n    body.neuro-dyslexia-mode h5,\n    body.neuro-dyslexia-mode h6,\n    body.neuro-dyslexia-mode span,\n    body.neuro-dyslexia-mode div {\n      letter-spacing: 0.05em !important;\n      word-spacing: 0.1em !important;\n      line-height: 1.5 !important;\n    }\n    \n    /* Improve paragraphs and text blocks */\n    body.neuro-dyslexia-mode p,\n    body.neuro-dyslexia-mode div {\n      line-height: 1.8 !important;\n      margin-bottom: 1.2em !important;\n    }\n    \n    /* Ensure text has a clean background */\n    body.neuro-dyslexia-mode p,\n    body.neuro-dyslexia-mode li,\n    body.neuro-dyslexia-mode h1,\n    body.neuro-dyslexia-mode h2,\n    body.neuro-dyslexia-mode h3,\n    body.neuro-dyslexia-mode h4,\n    body.neuro-dyslexia-mode h5,\n    body.neuro-dyslexia-mode h6 {\n      background-color: transparent !important;\n      padding: 0.1em 0 !important;\n    }\n    \n    /* Ensure sufficient contrast for text */\n    body.neuro-dyslexia-mode * {\n      text-shadow: none !important;\n    }\n\n    /* Simplify backgrounds behind text */\n    body.neuro-dyslexia-mode article,\n    body.neuro-dyslexia-mode section,\n    body.neuro-dyslexia-mode main,\n    body.neuro-dyslexia-mode .content,\n    body.neuro-dyslexia-mode [role=\"main\"],\n    body.neuro-dyslexia-mode [role=\"article\"] {\n      background-image: none !important;\n      background-color: inherit !important;\n    }\n  ",document.head.appendChild(n),!document.getElementById("neuro-dyslexic-font")){var o=document.createElement("link");o.id="neuro-dyslexic-font",o.rel="stylesheet",o.href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.woff",document.head.appendChild(o)}console.log("Dyslexia-friendly mode applied")}();break;case"focus":!function(){document.body.classList.add("neuro-focus-mode");var n=document.createElement("style");n.setAttribute("data-neuro-customizer","focus"),n.textContent='\n    /* Main content emphasis */\n    body.neuro-focus-mode {\n      overflow-x: hidden !important;\n    }\n    \n    /* Dim non-main content areas */\n    body.neuro-focus-mode > *:not(main):not(article):not([role="main"]):not([role="article"]):not(.content):not(#content) {\n      opacity: 0.6 !important;\n      filter: blur(1px) !important;\n      transition: opacity 0.3s ease, filter 0.3s ease !important;\n    }\n    \n    body.neuro-focus-mode > *:not(main):not(article):not([role="main"]):not([role="article"]):not(.content):not(#content):hover {\n      opacity: 1 !important;\n      filter: blur(0) !important;\n    }\n    \n    /* Emphasize main content */\n    body.neuro-focus-mode main,\n    body.neuro-focus-mode article,\n    body.neuro-focus-mode [role="main"],\n    body.neuro-focus-mode [role="article"],\n    body.neuro-focus-mode .content,\n    body.neuro-focus-mode #content {\n      box-shadow: 0 0 0 1000px rgba(0, 0, 0, 0.05) !important;\n      position: relative !important;\n      z-index: 1 !important;\n      background-color: rgba(255, 255, 255, 0.95) !important;\n    }\n    \n    /* Increase spacing for readability */\n    body.neuro-focus-mode p,\n    body.neuro-focus-mode li {\n      line-height: 1.8 !important;\n      margin-bottom: 1.5em !important;\n    }\n    \n    /* Suppress animations and distracting elements */\n    body.neuro-focus-mode * {\n      animation: none !important;\n      transition: opacity 0.3s ease, filter 0.3s ease !important;\n    }\n    \n    /* Specific distracting elements */\n    body.neuro-focus-mode iframe[src*="ads"],\n    body.neuro-focus-mode iframe[src*="doubleclick"],\n    body.neuro-focus-mode div[class*="ad-"],\n    body.neuro-focus-mode div[id*="ad-"],\n    body.neuro-focus-mode [class*="social"],\n    body.neuro-focus-mode [id*="social"] {\n      opacity: 0.3 !important;\n      filter: grayscale(100%) blur(2px) !important;\n    }\n    \n    /* Hide auto-playing videos, animated GIFs */\n    body.neuro-focus-mode video,\n    body.neuro-focus-mode [class*="player"],\n    body.neuro-focus-mode [id*="player"] {\n      opacity: 0.1 !important;\n      filter: grayscale(100%) !important;\n    }\n    \n    /* Reading ruler styles */\n    #neuro-reading-ruler {\n      position: fixed;\n      left: 0;\n      width: 100%;\n      height: 40px;\n      background-color: rgba(255, 255, 0, 0.05);\n      border-top: 1px solid rgba(255, 255, 0, 0.3);\n      border-bottom: 1px solid rgba(255, 255, 0, 0.3);\n      pointer-events: none;\n      z-index: 9999;\n      box-shadow: 0 0 10px 10px rgba(255, 255, 0, 0.02);\n      transition: top 0.1s ease;\n    }\n  ',document.head.appendChild(n);var o=document.createElement("div");o.id="neuro-reading-ruler",o.style.top="100px",document.body.appendChild(o);var e=function(n){var e=n.clientY||window.innerHeight/2;o.style.top="".concat(e,"px")};document.addEventListener("mousemove",e),window.neuroCustomizerObservers||(window.neuroCustomizerObservers=[]),window.neuroCustomizerObservers.push({disconnect:function(){document.removeEventListener("mousemove",e)}}),console.log("Focus mode applied")}();break;case"high-contrast":!function(){document.body.classList.add("neuro-high-contrast-mode");var n=document.createElement("style");n.setAttribute("data-neuro-customizer","high-contrast"),n.textContent='\n    /* Basic high contrast */\n    body.neuro-high-contrast-mode {\n      background-color: black !important;\n      color: white !important;\n    }\n    \n    /* Text elements */\n    body.neuro-high-contrast-mode h1,\n    body.neuro-high-contrast-mode h2,\n    body.neuro-high-contrast-mode h3,\n    body.neuro-high-contrast-mode h4,\n    body.neuro-high-contrast-mode h5,\n    body.neuro-high-contrast-mode h6,\n    body.neuro-high-contrast-mode p,\n    body.neuro-high-contrast-mode li,\n    body.neuro-high-contrast-mode dt,\n    body.neuro-high-contrast-mode dd,\n    body.neuro-high-contrast-mode span,\n    body.neuro-high-contrast-mode div {\n      color: white !important;\n      background-color: black !important;\n      text-shadow: none !important;\n      border-color: white !important;\n    }\n    \n    /* Links */\n    body.neuro-high-contrast-mode a:link,\n    body.neuro-high-contrast-mode a:visited {\n      color: yellow !important;\n      background-color: black !important;\n      text-decoration: underline !important;\n    }\n    \n    body.neuro-high-contrast-mode a:hover,\n    body.neuro-high-contrast-mode a:active {\n      color: #FFFF66 !important;\n      background-color: #333 !important;\n    }\n    \n    /* Remove gradients and shadows */\n    body.neuro-high-contrast-mode * {\n      text-shadow: none !important;\n      box-shadow: none !important;\n      background-image: none !important;\n    }\n    \n    /* Increase font size slightly */\n    body.neuro-high-contrast-mode {\n      font-size: 110% !important;\n    }\n    \n    /* Buttons and form elements */\n    body.neuro-high-contrast-mode button,\n    body.neuro-high-contrast-mode input,\n    body.neuro-high-contrast-mode select,\n    body.neuro-high-contrast-mode textarea {\n      border: 2px solid white !important;\n      background-color: black !important;\n      color: white !important;\n    }\n    \n    /* Ensure form elements are clearly visible */\n    body.neuro-high-contrast-mode input:focus,\n    body.neuro-high-contrast-mode select:focus,\n    body.neuro-high-contrast-mode textarea:focus,\n    body.neuro-high-contrast-mode button:focus {\n      outline: 3px solid yellow !important;\n    }\n    \n    /* Images and media */\n    body.neuro-high-contrast-mode img,\n    body.neuro-high-contrast-mode video,\n    body.neuro-high-contrast-mode canvas {\n      border: 2px solid white !important;\n      filter: contrast(120%) !important;\n    }\n    \n    /* Tables */\n    body.neuro-high-contrast-mode table,\n    body.neuro-high-contrast-mode th,\n    body.neuro-high-contrast-mode td {\n      border: 2px solid white !important;\n    }\n    \n    body.neuro-high-contrast-mode th {\n      background-color: #333 !important;\n      color: white !important;\n    }\n    \n    /* Alternative mode: black on yellow */\n    body.neuro-high-contrast-mode .alt-contrast,\n    body.neuro-high-contrast-mode [data-high-contrast="yellow"] {\n      background-color: yellow !important;\n      color: black !important;\n    }\n  ',document.head.appendChild(n),console.log("High contrast mode applied")}();break;case"calm":!function(){document.body.classList.add("neuro-calm-mode");var n=document.createElement("style");n.setAttribute("data-neuro-customizer","calm"),n.textContent='\n    /* Soft color palette */\n    body.neuro-calm-mode {\n      background-color: #F0F3F6 !important;\n      color: #333 !important;\n      filter: saturate(85%) !important;\n      transition: none !important;\n    }\n    \n    /* Apply softer colors to all elements */\n    body.neuro-calm-mode * {\n      animation: none !important;\n      transition: none !important;\n    }\n    \n    /* Muted text */\n    body.neuro-calm-mode h1,\n    body.neuro-calm-mode h2,\n    body.neuro-calm-mode h3,\n    body.neuro-calm-mode h4,\n    body.neuro-calm-mode h5,\n    body.neuro-calm-mode h6,\n    body.neuro-calm-mode p,\n    body.neuro-calm-mode li,\n    body.neuro-calm-mode span {\n      color: #404040 !important;\n      font-weight: normal !important;\n      text-shadow: none !important;\n    }\n    \n    /* Soften backgrounds */\n    body.neuro-calm-mode div,\n    body.neuro-calm-mode section,\n    body.neuro-calm-mode article,\n    body.neuro-calm-mode aside,\n    body.neuro-calm-mode nav {\n      background-image: none !important;\n      box-shadow: none !important;\n    }\n    \n    /* Remove or reduce busy backgrounds */\n    body.neuro-calm-mode [style*="background-image"] {\n      background-image: none !important;\n      background-color: #F0F3F6 !important;\n    }\n    \n    /* Reduce font boldness */\n    body.neuro-calm-mode strong,\n    body.neuro-calm-mode b {\n      font-weight: normal !important;\n    }\n    \n    /* Enlarge clickable elements */\n    body.neuro-calm-mode a,\n    body.neuro-calm-mode button,\n    body.neuro-calm-mode input[type="button"],\n    body.neuro-calm-mode input[type="submit"] {\n      padding: 0.5em !important;\n      margin: 0.3em !important;\n      border-radius: 4px !important;\n    }\n    \n    /* Suppress hover effects */\n    body.neuro-calm-mode a:hover,\n    body.neuro-calm-mode button:hover,\n    body.neuro-calm-mode *:hover {\n      transform: none !important;\n      filter: none !important;\n      background-image: none !important;\n    }\n    \n    /* Soften links */\n    body.neuro-calm-mode a:link,\n    body.neuro-calm-mode a:visited {\n      color: #2A5D8A !important;\n      text-decoration: underline !important;\n    }\n    \n    /* Suppress blinking or flashing elements */\n    body.neuro-calm-mode [class*="blink"],\n    body.neuro-calm-mode [class*="flash"],\n    body.neuro-calm-mode [class*="alert"] {\n      animation: none !important;\n      opacity: 0.8 !important;\n    }\n    \n    /* Clearly separate UI elements */\n    body.neuro-calm-mode button,\n    body.neuro-calm-mode input,\n    body.neuro-calm-mode select,\n    body.neuro-calm-mode textarea {\n      margin: 0.5em !important;\n      border: 1px solid #AAAAAA !important;\n    }\n    \n    /* Reduce contrast for images */\n    body.neuro-calm-mode img,\n    body.neuro-calm-mode video {\n      opacity: 0.9 !important;\n      filter: saturate(90%) brightness(105%) !important;\n    }\n  ',document.head.appendChild(n),document.querySelectorAll('[style*="animation"], [style*="transition"], [style*="blink"], [style*="flash"]').forEach((function(n){n.hasAttribute("data-neuro-original-style")||(n.setAttribute("data-neuro-original-style",n.getAttribute("style")||""),n.style.animation="none",n.style.transition="none")})),console.log("Calm/low-stimulation mode applied")}()}n="default"===o?null:o}chrome.runtime.sendMessage({action:"getModeStatus"},(function(n){n&&n.activeMode&&"default"!==n.activeMode&&o(n.activeMode)})),chrome.runtime.onMessage.addListener((function(n,e,t){return"applyMode"===n.action&&(o(n.mode),t({success:!0})),!0}))})();